# Destructuring assignment

Hai c·∫•u tr√∫c d·ªØ li·ªáu ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu nh·∫•t trong JavaScript l√† `Object` v√† `Array`.

C√°c ƒë·ªëi t∆∞·ª£ng cho ph√©p ch√∫ng ta ƒë√≥ng g√≥i nhi·ªÅu m·∫©u th√¥ng tin v√†o m·ªôt th·ª±c th·ªÉ duy nh·∫•t v√† c√°c m·∫£ng cho ph√©p ch√∫ng ta l∆∞u tr·ªØ c√°c b·ªô s∆∞u t·∫≠p theo th·ª© t·ª±. V√¨ v·∫≠y, ch√∫ng ta c√≥ th·ªÉ t·∫°o m·ªôt ƒë·ªëi t∆∞·ª£ng ho·∫∑c m·ªôt m·∫£ng v√† x·ª≠ l√Ω n√≥ nh∆∞ m·ªôt th·ª±c th·ªÉ duy nh·∫•t ho·∫∑c c√≥ th·ªÉ chuy·ªÉn n√≥ t·ªõi m·ªôt l·ªánh g·ªçi h√†m.

*Destructuring assignment* l√† m·ªôt c√∫ ph√°p ƒë·∫∑c bi·ªát cho ph√©p ch√∫ng ta "gi·∫£i n√©n" c√°c m·∫£ng ho·∫∑c ƒë·ªëi t∆∞·ª£ng th√†nh m·ªôt lo·∫°t c√°c bi·∫øn, v√¨ ƒë√¥i khi ch√∫ng thu·∫≠n ti·ªán h∆°n. Ph√° h·ªßy c·∫•u tr√∫c (destructuring) c≈©ng ho·∫°t ƒë·ªông r·∫•t t·ªët v·ªõi c√°c h√†m ph·ª©c t·∫°p c√≥ nhi·ªÅu tham s·ªë, gi√° tr·ªã m·∫∑c ƒë·ªãnh v√† ch√∫ng ta s·∫Ω s·ªõm th·∫•y ch√∫ng ƒë∆∞·ª£c x·ª≠ l√Ω nh∆∞ th·∫ø n√†o.

## Array destructuring

M·ªôt v√≠ d·ª• v·ªÅ c√°ch m·∫£ng b·ªã ph√° h·ªßy (destructured) th√†nh c√°c bi·∫øn:

```js
      // we have an array with the name and surname
      let arr = ["Ilya", "Kantor"]

      // destructuring assignment
      let [firstName, surname] = arr;

      alert(firstName); // Ilya
      alert(surname);  // Kantor
```

B√¢y gi·ªù ch√∫ng ta c√≥ th·ªÉ l√†m vi·ªác v·ªõi c√°c bi·∫øn thay v√¨ c√°c th√†nh vi√™n m·∫£ng.

N√≥ tr√¥ng tuy·ªát v·ªùi khi ƒë∆∞·ª£c k·∫øt h·ª£p v·ªõi `split` ho·∫∑c c√°c ph∆∞∆°ng th·ª©c tr·∫£ v·ªÅ m·∫£ng kh√°c:

```js
      let [firstName, surname] = "Ilya Kantor".split(' ');
```

<br>

> ---

**üìå "Ph√° h·ªßy (Destructuring)" kh√¥ng c√≥ nghƒ©a l√† "ph√° ho·∫°i (destructive)".**

N√≥ ƒë∆∞·ª£c g·ªçi l√† "destructuring assignment", b·ªüi v√¨ n√≥ "ph√° h·ªßy" b·∫±ng c√°ch sao ch√©p c√°c items v√†o c√°c bi·∫øn. Nh∆∞ng b·∫£n th√¢n m·∫£ng kh√¥ng b·ªã s·ª≠a ƒë·ªïi.

ƒê√≥ ch·ªâ l√† m·ªôt c√°ch vi·∫øt ng·∫Øn h∆°n:

```js
      // let [firstName, surname] = arr;
      let firstName = arr[0];
      let surname = arr[1];
```

> ---

<br>
<br>

> ---

**üìå B·ªè qua c√°c ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n**

C√°c ph·∫ßn t·ª≠ kh√¥ng mong mu·ªën c·ªßa m·∫£ng c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c lo·∫°i b·ªè th√¥ng qua d·∫•u ph·∫©y th·ª´a:

```js
      // first and second elements are not needed
      let [, , title] = ["Julius", "Caesar", "Consul", "of the Roman Republic"];

      alert( title ); // Consul
```

Trong ƒëo·∫°n m√£ tr√™n, m·∫∑c d√π c√°c ph·∫ßn t·ª≠ th·ª© nh·∫•t v√† th·ª© hai c·ªßa m·∫£ng b·ªã b·ªè qua, ph·∫ßn t·ª≠ th·ª© ba ƒë∆∞·ª£c g√°n cho `title` v√† ph·∫ßn c√≤n l·∫°i c≈©ng b·ªã b·ªè qua.

> ---

<br>
<br>

> ---

**üìå Ho·∫°t ƒë·ªông v·ªõi b·∫•t k·ª≥ iterable n√†o ·ªü ph√≠a b√™n ph·∫£i**

...Tr√™n th·ª±c t·∫ø, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng n√≥ v·ªõi b·∫•t k·ª≥ iterable, kh√¥ng ch·ªâ c√°c m·∫£ng:

```js
      let [a, b, c] = "abc"; // ["a", "b", "c"]
      let [one, two, three] = new Set([1, 2, 3]);
```

> ---

<br>
<br>

> ---

**üìå G√°n v√†o b·∫•t c·ª© th·ª© g√¨ ·ªü ph√≠a b√™n tr√°i**

Ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ "chuy·ªÉn nh∆∞·ª£ng (assignables)" ·ªü b√™n tr√°i.

V√≠ d·ª•, m·ªôt thu·ªôc t√≠nh ƒë·ªëi t∆∞·ª£ng:

```js
      let user = {};
      [user.name, user.surname] = "Ilya Kantor".split(' ');

      alert(user.name); // Ilya
```

> ---

<br>
<br>

> ---

**üìå Looping with .entries()**

Trong ch∆∞∆°ng tr∆∞·ªõc, ch√∫ng ta ƒë√£ th·∫•y ph∆∞∆°ng th·ª©c [Object.entries(obj)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries).

Ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng n√≥ v·ªõi vi·ªác destructuring ƒë·ªÉ l·∫∑p qua keys-and-values c·ªßa m·ªôt object:

```js
      let user = {
        name: "John",
        age: 30
      };

      // loop over keys-and-values
      for (let [key, value] of Object.entries(user)) {
        alert(`${key}:${value}`); // name:John, then age:30
      }
```

...V√† t∆∞∆°ng t·ª± cho m·ªôt map:

```js
      let user = new Map();
      user.set("name", "John");
      user.set("age", "30");

      for (let [key, value] of user.entries()) {
        alert(`${key}:${value}`); // name:John, then age:30
      }
```

> ---

<br>

### Ph·∫ßn c√≤n l·∫°i (the rest) '...'

N·∫øu ch√∫ng ta mu·ªën kh√¥ng ch·ªâ nh·∫≠n ƒë∆∞·ª£c c√°c gi√° tr·ªã ƒë·∫ßu ti√™n, m√† c√≤n thu th·∫≠p t·∫•t c·∫£ c√°c gi√° tr·ªã ti·∫øp theo -- ch√∫ng ta c√≥ th·ªÉ th√™m m·ªôt tham s·ªë n·ªØa l√† "ph·∫ßn c√≤n l·∫°i (the rest)" b·∫±ng ba d·∫•u ch·∫•m `"..."`:

```js
      let [name1, name2, ...rest] = ["Julius", "Caesar", "Consul", "of the Roman Republic"];

      alert(name1); // Julius
      alert(name2); // Caesar

      alert(rest[0]); // Consul
      alert(rest[1]); // of the Roman Republic
      alert(rest.length); // 2
```

Gi√° tr·ªã c·ªßa `rest` l√† m·∫£ng c·ªßa c√°c ph·∫ßn t·ª≠ m·∫£ng c√≤n l·∫°i. Ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ t√™n bi·∫øn n√†o kh√°c thay cho `rest`, ch·ªâ c·∫ßn ƒë·∫£m b·∫£o r·∫±ng n√≥ c√≥ ba d·∫•u ch·∫•m tr∆∞·ªõc n√≥ v√† n·∫±m cu·ªëi c√πng trong destructuring assignment.

### Default values

N·∫øu c√≥ √≠t gi√° tr·ªã trong m·∫£ng h∆°n c√°c bi·∫øn trong ph√©p g√°n, s·∫Ω kh√¥ng c√≥ l·ªói. Gi√° tr·ªã v·∫Øng m·∫∑t ƒë∆∞·ª£c coi l√† undefined:

```js
      let [firstName, surname] = [];

      alert(firstName); // undefined
```

N·∫øu ch√∫ng ta mu·ªën m·ªôt gi√° tr·ªã "m·∫∑c ƒë·ªãnh" ƒë·ªÉ thay th·∫ø gi√° tr·ªã c√≤n thi·∫øu, ch√∫ng ta c√≥ th·ªÉ cung c·∫•p n√≥ b·∫±ng c√°ch s·ª≠ d·ª•ng `=`:

```js
      // default values
      let [name = "Guest", surname = "Anonymous"] = ["Julius"];

      alert(name);    // Julius (from array)
      alert(surname); // Anonymous (default used)
```

Gi√° tr·ªã m·∫∑c ƒë·ªãnh c√≥ th·ªÉ l√† c√°c bi·ªÉu th·ª©c ph·ª©c t·∫°p h∆°n ho·∫∑c th·∫≠m ch√≠ c√°c l·ªánh g·ªçi h√†m. Ch√∫ng ch·ªâ ƒë∆∞·ª£c ƒë√°nh gi√° n·∫øu gi√° tr·ªã kh√¥ng ƒë∆∞·ª£c cung c·∫•p.

Ch·∫≥ng h·∫°n, ·ªü ƒë√¢y ch√∫ng ta s·ª≠ d·ª•ng h√†m `prompt` cho hai gi√° tr·ªã m·∫∑c ƒë·ªãnh. Nh∆∞ng n√≥ s·∫Ω ch·ªâ ch·∫°y cho gi√° tr·ªã c√≤n thi·∫øu:

```js
      // runs only prompt for surname
      let [name = prompt('name?'), surname = prompt('surname?')] = ["Julius"];

      alert(name);    // Julius (from array)
      alert(surname); // whatever prompt gets
```



## Object destructuring

The destructuring assignment c≈©ng ho·∫°t ƒë·ªông v·ªõi c√°c ƒë·ªëi t∆∞·ª£ng.

C√∫ ph√°p c∆° b·∫£n l√†:

```js
      let {var1, var2} = {var1:‚Ä¶, var2‚Ä¶}
```

Ch√∫ng ta c√≥ m·ªôt ƒë·ªëi t∆∞·ª£ng hi·ªán c√≥ ·ªü ph√≠a b√™n ph·∫£i, m√† ch√∫ng ta mu·ªën chia th√†nh c√°c bi·∫øn. Ph√≠a b√™n tr√°i ch·ª©a m·ªôt "m·∫´u (pattern)" cho c√°c thu·ªôc t√≠nh t∆∞∆°ng ·ª©ng. Trong tr∆∞·ªùng h·ª£p ƒë∆°n gi·∫£n, ƒë√≥ l√† danh s√°ch c√°c t√™n bi·∫øn trong `{...}`.

V√≠ d·ª•:

```js
      let options = {
        title: "Menu",
        width: 100,
        height: 200
      };

      let {title, width, height} = options;

      alert(title);  // Menu
      alert(width);  // 100
      alert(height); // 200
```

C√°c thu·ªôc t√≠nh `options.title`, `options.width` v√† `options.height` ƒë∆∞·ª£c g√°n cho c√°c bi·∫øn t∆∞∆°ng ·ª©ng. Th·ª© t·ª± kh√¥ng quan tr·ªçng. ƒêi·ªÅu n√†y c≈©ng ho·∫°t ƒë·ªông:

```js
      // changed the order of properties in let {...}
      let {height, width, title} = { title: "Menu", height: 200, width: 100 }
```

M·∫´u ·ªü ph√≠a b√™n tr√°i c√≥ th·ªÉ ph·ª©c t·∫°p h∆°n v√† ch·ªâ ƒë·ªãnh √°nh x·∫° gi·ªØa c√°c thu·ªôc t√≠nh v√† bi·∫øn.

V√≠ d·ª•, n·∫øu ch√∫ng ta mu·ªën g√°n m·ªôt thu·ªôc t√≠nh cho m·ªôt bi·∫øn b·∫±ng m·ªôt t√™n kh√°c, `options.width` ƒë·ªÉ truy·ªÅn v√†o bi·∫øn c√≥ t√™n `w`, th√¨ ch√∫ng ta c√≥ th·ªÉ ƒë·∫∑t n√≥ b·∫±ng d·∫•u hai ch·∫•m:

```js
      let options = {
        title: "Menu",
        width: 100,
        height: 200
      };

      // { sourceProperty: targetVariable }
      let {width: w, height: h, title} = options;

      // width -> w
      // height -> h
      // title -> title

      alert(title);  // Menu
      alert(w);      // 100
      alert(h);      // 200
```

D·∫•u hai ch·∫•m hi·ªÉn th·ªã "what : goes where". Trong v√≠ d·ª• tr√™n thu·ªôc t√≠nh `width` truy·ªÅn t·ªõi `w`, thu·ªôc t√≠nh `height` truy·ªÅn t·ªõi `h` v√† `title` ƒë∆∞·ª£c g√°n cho c√πng t√™n.

ƒê·ªëi v·ªõi c√°c thu·ªôc t√≠nh c√≥ kh·∫£ nƒÉng b·ªã thi·∫øu, ch√∫ng ta c√≥ th·ªÉ ƒë·∫∑t c√°c gi√° tr·ªã m·∫∑c ƒë·ªãnh b·∫±ng c√°ch s·ª≠ d·ª•ng `"="`, nh∆∞ th·∫ø n√†y:

```js
      let options = {
        title: "Menu"
      };

      let {width = 100, height = 200, title} = options;

      alert(title);  // Menu
      alert(width);  // 100
      alert(height); // 200
```

Gi·ªëng nh∆∞ v·ªõi c√°c m·∫£ng ho·∫∑c tham s·ªë h√†m, c√°c gi√° tr·ªã m·∫∑c ƒë·ªãnh c√≥ th·ªÉ l√† b·∫•t k·ª≥ bi·ªÉu th·ª©c ho·∫∑c th·∫≠m ch√≠ c√°c l·ªánh g·ªçi h√†m. H·ªç s·∫Ω ƒë∆∞·ª£c ƒë√°nh gi√° n·∫øu gi√° tr·ªã kh√¥ng ƒë∆∞·ª£c cung c·∫•p.

M√£ d∆∞·ªõi ƒë√¢y y√™u c·∫ßu chi·ªÅu r·ªông, nh∆∞ng kh√¥ng ph·∫£i ti√™u ƒë·ªÅ.

```js
      let options = {
        title: "Menu"
      };

      let {width = prompt("width?"), title = prompt("title?")} = options;

      alert(title);  // Menu
      alert(width);  // (whatever you the result of prompt is)
```

Ch√∫ng ta c≈©ng c√≥ th·ªÉ k·∫øt h·ª£p c·∫£ d·∫•u hai ch·∫•m v√† ƒë·∫≥ng th·ª©c:

```js
      let options = {
        title: "Menu"
      };

      let {width: w = 100, height: h = 200, title} = options;

      alert(title);  // Menu
      alert(w);      // 100
      alert(h);      // 200
```

### To√°n t·ª≠ c√≤n l·∫°i (The rest operator)

ƒêi·ªÅu g√¨ x·∫£y ra n·∫øu ƒë·ªëi t∆∞·ª£ng c√≥ nhi·ªÅu thu·ªôc t√≠nh h∆°n ch√∫ng ta c√≥ c√°c bi·∫øn? Ch√∫ng ta c√≥ th·ªÉ l·∫•y m·ªôt s·ªë v√† sau ƒë√≥ ch·ªâ ƒë·ªãnh "ph·∫ßn c√≤n l·∫°i" ·ªü ƒë√¢u ƒë√≥ kh√¥ng?

Th√¥ng s·ªë k·ªπ thu·∫≠t cho vi·ªác s·ª≠ d·ª•ng to√°n t·ª≠ c√≤n l·∫°i (ba d·∫•u ch·∫•m) ·ªü ƒë√¢y g·∫ßn nh∆∞ n·∫±m trong ti√™u chu·∫©n, nh∆∞ng h·∫ßu h·∫øt c√°c tr√¨nh duy·ªát ch∆∞a h·ªó tr·ª£.

N√≥ tr√¥ng nh∆∞ th·∫ø n√†y:

```js
      let options = {
        title: "Menu",
        height: 200,
        width: 100
      };

      let {title, ...rest} = options;

      // now title="Menu", rest={height: 200, width: 100}
      alert(rest.height);  // 200
      alert(rest.width);   // 100
```

<br>

> ---

**üìå Gotcha without `let`**

Trong c√°c v√≠ d·ª• tr√™n, c√°c bi·∫øn ƒë√£ ƒë∆∞·ª£c khai b√°o ngay tr∆∞·ªõc khi g√°n: `let {‚Ä¶} = {‚Ä¶}`. T·∫•t nhi√™n, ch√∫ng ta c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c bi·∫øn hi·ªán c√≥. Nh∆∞ng c√≥ m·ªôt nh∆∞·ª£c ƒëi·ªÉm.

ƒêi·ªÅu n√†y s·∫Ω kh√¥ng ho·∫°t ƒë·ªông:

```js
      let title, width, height;

      // error in this line
      {title, width, height} = {title: "Menu", width: 200, height: 100};
```

V·∫•n ƒë·ªÅ l√† JavaScript x·ª≠ l√Ω `{...}` trong lu·ªìng m√£ ch√≠nh (kh√¥ng ph·∫£i b√™n trong m·ªôt bi·ªÉu th·ª©c kh√°c) d∆∞·ªõi d·∫°ng m·ªôt kh·ªëi m√£. C√°c kh·ªëi m√£ nh∆∞ v·∫≠y c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ nh√≥m c√°c c√¢u l·ªánh, nh∆∞ th·∫ø n√†y:

```js
      {
        // a code block
        let message = "Hello";
        // ...
        alert( message );
      }
```

ƒê·ªÉ hi·ªÉn th·ªã cho JavaScript bi·∫øt r·∫±ng ƒë√≥ kh√¥ng ph·∫£i l√† m·ªôt kh·ªëi m√£, ch√∫ng ta c√≥ th·ªÉ g√≥i to√†n b·ªô ph√©p g√°n trong ngo·∫∑c `(...)`:

```js
      let title, width, height;

      // okay now
      ({title, width, height} = {title: "Menu", width: 200, height: 100});

      alert( title ); // Menu
```

> ---

<br>

## Nested destructuring

N·∫øu m·ªôt ƒë·ªëi t∆∞·ª£ng ho·∫∑c m·ªôt m·∫£ng ch·ª©a c√°c ƒë·ªëi t∆∞·ª£ng v√† m·∫£ng kh√°c, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c m·∫´u b√™n tr√°i ph·ª©c t·∫°p h∆°n ƒë·ªÉ tr√≠ch xu·∫•t c√°c ph·∫ßn s√¢u h∆°n.

Trong ƒëo·∫°n m√£ d∆∞·ªõi ƒë√¢y `options` c√≥ m·ªôt ƒë·ªëi t∆∞·ª£ng kh√°c trong thu·ªôc t√≠nh `size` v√† m·ªôt m·∫£ng trong thu·ªôc t√≠nh `items`. M·∫´u ·ªü b√™n tr√°i c·ªßa ph√©p g√°n c√≥ c√πng c·∫•u tr√∫c:

```js
      let options = {
        size: {
          width: 100,
          height: 200
        },
        items: ["Cake", "Donut"],
        extra: true    // something extra that we will not destruct
      };

      // destructuring assignment on multiple lines for clarity
      let {
        size: { // put size here
          width,
          height
        },
        items: [item1, item2], // assign items here
        title = "Menu" // not present in the object (default value is used)
      } = options;

      alert(title);  // Menu
      alert(width);  // 100
      alert(height); // 200
      alert(item1);  // Cake
      alert(item2);  // Donut
```

To√†n b·ªô ƒë·ªëi t∆∞·ª£ng `options` ngo·∫°i tr·ª´ `extra` kh√¥ng ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p, ƒë∆∞·ª£c g√°n cho c√°c bi·∫øn t∆∞∆°ng ·ª©ng.

![](destructuring-complex.png)

Cu·ªëi c√πng, ch√∫ng ta c√≥ `width`, `height`, `item1`, `item2` v√† `title` t·ª´ gi√° tr·ªã m·∫∑c ƒë·ªãnh.

ƒêi·ªÅu ƒë√≥ th∆∞·ªùng x·∫£y ra v·ªõi c√°c destructuring assignments. Ch√∫ng ta c√≥ m·ªôt ƒë·ªëi t∆∞·ª£ng ph·ª©c t·∫°p v·ªõi nhi·ªÅu thu·ªôc t√≠nh v√† ch·ªâ mu·ªën tr√≠ch xu·∫•t nh·ªØng g√¨ ch√∫ng ta c·∫ßn.

Ngay c·∫£ ·ªü ƒë√¢y n√≥ x·∫£y ra:

```js
      // take size as a whole into a variable, ignore the rest
      let { size } = options;
```

## Smart function parameters

ƒê√¥i khi m·ªôt h√†m c√≥ th·ªÉ c√≥ nhi·ªÅu tham s·ªë, h·∫ßu h·∫øt trong s·ªë ƒë√≥ l√† t√πy ch·ªçn. ƒêi·ªÅu ƒë√≥ ƒë·∫∑c bi·ªát ƒë√∫ng v·ªõi giao di·ªán ng∆∞·ªùi d√πng. H√£y t∆∞·ªüng t∆∞·ª£ng m·ªôt function t·∫°o ra m·ªôt menu. N√≥ c√≥ th·ªÉ c√≥ chi·ªÅu r·ªông, chi·ªÅu cao, ti√™u ƒë·ªÅ, items list, v.v.

ƒê√¢y l√† m·ªôt c√°ch t·ªìi ƒë·ªÉ vi·∫øt function nh∆∞ v·∫≠y:

```js
      function showMenu(title = "Untitled", width = 200, height = 100, items = []) {
        // ...
      }
```

Trong cu·ªôc s·ªëng th·ª±c, v·∫•n ƒë·ªÅ l√† l√†m th·∫ø n√†o ƒë·ªÉ nh·ªõ th·ª© t·ª± l·∫≠p lu·∫≠n. Th√¥ng th∆∞·ªùng c√°c IDE c·ªë g·∫Øng gi√∫p ch√∫ng ta, ƒë·∫∑c bi·ªát n·∫øu m√£ ƒë∆∞·ª£c ghi ch√©p t·ªët, nh∆∞ng v·∫´n ... M·ªôt v·∫•n ƒë·ªÅ kh√°c l√† l√†m th·∫ø n√†o ƒë·ªÉ g·ªçi m·ªôt h√†m khi h·∫ßu h·∫øt c√°c tham s·ªë ƒë·ªÅu ƒë∆∞·ª£c m·∫∑c ƒë·ªãnh.

Nh∆∞ th·∫ø n√†y?

```js
      showMenu("My Menu", undefined, undefined, ["Item1", "Item2"])
```

Th·∫≠t l√† x·∫•u x√≠. V√† tr·ªü n√™n kh√¥ng th·ªÉ ƒë·ªçc ƒë∆∞·ª£c khi ch√∫ng ta x·ª≠ l√Ω nhi·ªÅu tham s·ªë h∆°n.

Destructuring ƒë·∫øn ƒë·ªÉ gi·∫£i c·ª©u!

Ch√∫ng ta c√≥ th·ªÉ truy·ªÅn tham s·ªë d∆∞·ªõi d·∫°ng m·ªôt ƒë·ªëi t∆∞·ª£ng v√† h√†m ngay l·∫≠p t·ª©c ph√° h·ªßy ch√∫ng th√†nh c√°c bi·∫øn:

```js
      // we pass object to function
      let options = {
        title: "My menu",
        items: ["Item1", "Item2"]
      };

      // ...and it immediately expands it to variables
      function showMenu({title = "Untitled", width = 200, height = 100, items = []}) {
        // title, items ‚Äì taken from options,
        // width, height ‚Äì defaults used
        alert( `${title} ${width} ${height}` ); // My Menu 200 100
        alert( items ); // Item1, Item2
      }

      showMenu(options);
```

Ch√∫ng ta c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng destructuring ph·ª©c t·∫°p h∆°n v·ªõi c√°c ƒë·ªëi t∆∞·ª£ng l·ªìng nhau (nested objects) v√† d·∫•u hai ch·∫•m √°nh x·∫° (colon mappings):

```js
      let options = {
        title: "My menu",
        items: ["Item1", "Item2"]
      };

      function showMenu({
        title = "Untitled",
        width: w = 100,  // width goes to w
        height: h = 200, // height goes to h
        items: [item1, item2] // items first element goes to item1, second to item2
      }) {
        alert( `${title} ${w} ${h}` ); // My Menu 100 200
        alert( item1 ); // Item1
        alert( item2 ); // Item2
      }

      showMenu(options);
```

C√∫ ph√°p t∆∞∆°ng t·ª± nh∆∞ ƒë·ªëi v·ªõi m·ªôt destructuring assignment:

```js
      function({
        incomingProperty: parameterName = defaultValue
        ...
      })
```

Xin l∆∞u √Ω r·∫±ng vi·ªác destructuring nh∆∞ v·∫≠y gi·∫£ s·ª≠ r·∫±ng `showMenu()` kh√¥ng c√≥ ƒë·ªëi s·ªë. N·∫øu ch√∫ng ta mu·ªën t·∫•t c·∫£ c√°c gi√° tr·ªã theo m·∫∑c ƒë·ªãnh, th√¨ ch√∫ng ta n√™n ch·ªâ ƒë·ªãnh m·ªôt ƒë·ªëi t∆∞·ª£ng tr·ªëng:

```js
      showMenu({});

      showMenu(); // this would give an error
```

Ch√∫ng ta c√≥ th·ªÉ kh·∫Øc ph·ª•c ƒëi·ªÅu n√†y b·∫±ng c√°ch t·∫°o `{}` gi√° tr·ªã m·∫∑c ƒë·ªãnh cho to√†n b·ªô destructuring:


```js
      // simplified parameters a bit for clarity
      function showMenu({ title = "Menu", width = 100, height = 200 } = {}) {
        alert( `${title} ${width} ${height}` );
      }

      showMenu(); // Menu 100 200
```

Trong ƒëo·∫°n m√£ tr√™n, to√†n b·ªô ƒë·ªëi t∆∞·ª£ng l√† `{}` theo m·∫∑c ƒë·ªãnh, do ƒë√≥ lu√¥n c√≥ th·ª© g√¨ ƒë√≥ ƒë·ªÉ destructurize.

## T√≥m l∆∞·ª£c

- Destructuring assignment cho ph√©p √°nh x·∫° ngay l·∫≠p t·ª©c m·ªôt ƒë·ªëi t∆∞·ª£ng ho·∫∑c m·∫£ng l√™n nhi·ªÅu bi·∫øn.
- C√∫ ph√°p ƒë·ªëi t∆∞·ª£ng:

    ```js
    let {prop : varName = default, ...} = object
    ```

    ƒêi·ªÅu n√†y c√≥ nghƒ©a l√† thu·ªôc t√≠nh `prop` n√™n truy·ªÅn v√†o bi·∫øn `varName` v√†, n·∫øu kh√¥ng c√≥ thu·ªôc t√≠nh ƒë√≥ t·ªìn t·∫°i, th√¨ n√™n s·ª≠ d·ª•ng gi√° tr·ªã `default`.

- C√∫ ph√°p m·∫£ng:

    ```js
    let [item1 = default, item2, ...rest] = array
    ```

    M·ª•c ƒë·∫ßu ti√™n truy·ªÅn ƒë·∫øn `item1`; c√°i th·ª© hai truy·ªÅn v√†o `item2`, t·∫•t c·∫£ ph·∫ßn c√≤n l·∫°i t·∫°o th√†nh m·∫£ng `rest`.

- ƒê·ªëi v·ªõi c√°c tr∆∞·ªùng h·ª£p ph·ª©c t·∫°p h∆°n, b√™n tr√°i ph·∫£i c√≥ c·∫•u tr√∫c t∆∞∆°ng t·ª± nh∆∞ b√™n ph·∫£i.
