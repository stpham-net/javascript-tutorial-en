# Functions

Th√¥ng th∆∞·ªùng ch√∫ng ta hay c·∫ßn th·ª±c hi·ªán m·ªôt h√†nh ƒë·ªông t∆∞∆°ng t·ª± ·ªü nhi·ªÅu n∆°i c·ªßa k·ªãch b·∫£n.

V√≠ d·ª•: ch√∫ng ta c·∫ßn hi·ªÉn th·ªã m·ªôt th√¥ng b√°o ƒë·∫πp m·∫Øt khi kh√°ch truy c·∫≠p ƒëƒÉng nh·∫≠p, ƒëƒÉng xu·∫•t v√† c√≥ th·ªÉ ·ªü m·ªôt n∆°i kh√°c.

Functions l√† "kh·ªëi x√¢y d·ª±ng (building blocks)" ch√≠nh c·ªßa ch∆∞∆°ng tr√¨nh. Ch√∫ng cho ph√©p m√£ ƒë∆∞·ª£c g·ªçi nhi·ªÅu l·∫ßn m√† kh√¥ng l·∫∑p l·∫°i.

Ch√∫ng ta ƒë√£ th·∫•y c√°c v√≠ d·ª• v·ªÅ c√°c h√†m d·ª±ng s·∫µn (built-in functions), nh∆∞ `alert(message)`, `prompt(message, default)` v√† `confirm(question)`. Nh∆∞ng ch√∫ng ta c≈©ng c√≥ th·ªÉ t·∫°o ra c√°c function c·ªßa ri√™ng m√¨nh.

## Khai b√°o h√†m (Function Declaration)

ƒê·ªÉ t·∫°o m·ªôt h√†m ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng m·ªôt *khai b√°o h√†m (function declaration)*.

N√≥ tr√¥ng nh∆∞ th·∫ø n√†y:

```js
      function showMessage() {
        alert( 'Hello everyone!' );
      }
```

T·ª´ kh√≥a `function` ƒëi tr∆∞·ªõc, sau ƒë√≥ ƒë·∫øn *t√™n c·ªßa h√†m*, sau ƒë√≥ l√† danh s√°ch *tham s·ªë* gi·ªØa d·∫•u ngo·∫∑c ƒë∆°n (tr·ªëng trong v√≠ d·ª• tr√™n) v√† cu·ªëi c√πng l√† m√£ c·ªßa h√†m, c≈©ng ƒë∆∞·ª£c ƒë·∫∑t t√™n l√† "th√¢n h√†m (the function body)" , ƒë·∫∑t gi·ªØa d·∫•u ngo·∫∑c nh·ªçn.

![](function_basics.png)

H√†m m·ªõi c·ªßa ch√∫ng ta c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi b·∫±ng t√™n c·ªßa n√≥: `showMessage()`.

V√≠ d·ª•:

```js
      function showMessage() {
        alert( 'Hello everyone!' );
      }

      showMessage();
      showMessage();
```

Cu·ªôc g·ªçi `showMessage()` th·ª±c thi m√£ c·ªßa h√†m. ·ªû ƒë√¢y ch√∫ng ta s·∫Ω th·∫•y message hai l·∫ßn.

V√≠ d·ª• n√†y th·ªÉ hi·ªán r√µ m·ªôt trong nh·ªØng m·ª•c ƒë√≠ch ch√≠nh c·ªßa c√°c h√†m: ƒë·ªÉ tr√°nh tr√πng l·∫∑p m√£.

N·∫øu ch√∫ng ta c·∫ßn thay ƒë·ªïi message ho·∫∑c c√°ch n√≥ ƒë∆∞·ª£c hi·ªÉn th·ªã, th√¨ ch·ªâ c·∫ßn s·ª≠a ƒë·ªïi m√£ ·ªü m·ªôt n∆°i: function xu·∫•t ra n√≥.

## Local variables

M·ªôt bi·∫øn ƒë∆∞·ª£c khai b√°o b√™n trong m·ªôt h√†m ch·ªâ hi·ªÉn th·ªã b√™n trong h√†m ƒë√≥.

V√≠ d·ª•:

```js
      function showMessage() {
        let message = "Hello, I'm JavaScript!"; // local variable

        alert( message );
      }

      showMessage(); // Hello, I'm JavaScript!

      alert( message ); // <-- Error! The variable is local to the function
```

## Outer variables

M·ªôt h√†m c≈©ng c√≥ th·ªÉ truy c·∫≠p m·ªôt bi·∫øn b√™n ngo√†i, v√≠ d·ª•:

```js
      let userName = 'John';

      function showMessage() {
        let message = 'Hello, ' + userName;
        alert(message);
      }

      showMessage(); // Hello, John
```

H√†m c√≥ to√†n quy·ªÅn truy c·∫≠p v√†o bi·∫øn b√™n ngo√†i (outer variable). N√≥ c≈©ng c√≥ th·ªÉ s·ª≠a ƒë·ªïi n√≥.

V√≠ d·ª•:

```js
      let userName = 'John';

      function showMessage() {
        userName = "Bob"; // (1) changed the outer variable

        let message = 'Hello, ' + userName;
        alert(message);
      }

      alert( userName ); // John before the function call

      showMessage();

      alert( userName ); // Bob, the value was modified by the function
```

Bi·∫øn b√™n ngo√†i (outer variable) ch·ªâ ƒë∆∞·ª£c s·ª≠ d·ª•ng n·∫øu kh√¥ng c√≥ bi·∫øn c·ª•c b·ªô. V√¨ v·∫≠y, m·ªôt s·ª± s·ª≠a ƒë·ªïi kh√¥ng th∆∞·ªùng xuy√™n c√≥ th·ªÉ x·∫£y ra n·∫øu ch√∫ng ta qu√™n `let`.

N·∫øu m·ªôt bi·∫øn c√πng t√™n ƒë∆∞·ª£c khai b√°o b√™n trong h√†m th√¨ n√≥ *ƒë·ªï b√≥ng (ƒë√®)* bi·∫øn b√™n ngo√†i. Ch·∫≥ng h·∫°n, trong ƒëo·∫°n m√£ b√™n d∆∞·ªõi, h√†m s·ª≠ d·ª•ng `userName` c·ª•c b·ªô. C√°i b√™n ngo√†i b·ªã b·ªè qua:

```js
      let userName = 'John';

      function showMessage() {
        let userName = "Bob"; // declare a local variable

        let message = 'Hello, ' + userName; // Bob
        alert(message);
      }

      // the function will create and use its own userName
      showMessage();

      alert( userName ); // John, unchanged, the function did not access the outer variable
```

<br>

> ---

**üìå Bi·∫øn to√†n c·∫ßu (Global variables)**

C√°c bi·∫øn ƒë∆∞·ª£c khai b√°o b√™n ngo√†i b·∫•t k·ª≥ h√†m n√†o, ch·∫≥ng h·∫°n nh∆∞ `userName` b√™n ngo√†i trong ƒëo·∫°n m√£ tr√™n, ƒë∆∞·ª£c g·ªçi l√† *global*.

C√°c bi·∫øn to√†n c·∫ßu (Global variable) c√≥ th·ªÉ nh√¨n th·∫•y t·ª´ b·∫•t k·ª≥ function n√†o (tr·ª´ khi b·ªã che khu·∫•t b·ªüi locals).

Th√¥ng th∆∞·ªùng, m·ªôt h√†m khai b√°o t·∫•t c·∫£ c√°c bi·∫øn c·ª• th·ªÉ cho nhi·ªám v·ª• c·ªßa n√≥. C√°c global variable ch·ªâ l∆∞u tr·ªØ d·ªØ li·ªáu c·∫•p d·ª± √°n, do ƒë√≥, ƒëi·ªÅu quan tr·ªçng l√† c√°c bi·∫øn n√†y c√≥ th·ªÉ truy c·∫≠p ƒë∆∞·ª£c t·ª´ m·ªçi n∆°i. M√£ hi·ªán ƒë·∫°i c√≥ √≠t ho·∫∑c kh√¥ng c√≥ globals. H·∫ßu h·∫øt c√°c bi·∫øn n·∫±m trong ch·ª©c nƒÉng c·ªßa h·ªç.

> ---

<br>

## C√°c tham s·ªë (Parameters)

Ch√∫ng ta c√≥ th·ªÉ truy·ªÅn d·ªØ li·ªáu t√πy √Ω cho c√°c h√†m b·∫±ng c√°c tham s·ªë (c√≤n ƒë∆∞·ª£c g·ªçi l√† *ƒë·ªëi s·ªë h√†m (function arguments)*).

Trong v√≠ d·ª• d∆∞·ªõi ƒë√¢y, h√†m c√≥ hai tham s·ªë: `from` v√† `text`.

```js
      function showMessage(from, text) { // arguments: from, text
        alert(from + ': ' + text);
      }

      showMessage('Ann', 'Hello!'); // Ann: Hello! (*)
      showMessage('Ann', "What's up?"); // Ann: What's up? (**)
```

Khi h√†m ƒë∆∞·ª£c g·ªçi trong c√°c d√≤ng `(*)` v√† `(**)`, c√°c gi√° tr·ªã ƒë√£ cho s·∫Ω ƒë∆∞·ª£c sao ch√©p v√†o c√°c bi·∫øn c·ª•c b·ªô `from` v√†` text`. Sau ƒë√≥, function s·ª≠ d·ª•ng ch√∫ng.

D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• n·ªØa: ch√∫ng ta c√≥ m·ªôt bi·∫øn `from` v√† truy·ªÅn n√≥ cho h√†m. Xin l∆∞u √Ω: h√†m thay ƒë·ªïi `from`, nh∆∞ng s·ª± thay ƒë·ªïi kh√¥ng ƒë∆∞·ª£c nh√¨n th·∫•y t·ª´ b√™n ngo√†i, b·ªüi v√¨ m·ªôt h√†m lu√¥n nh·∫≠n ƒë∆∞·ª£c m·ªôt copy c·ªßa value:


```js
      function showMessage(from, text) {

        from = '*' + from + '*'; // make "from" look nicer

        alert( from + ': ' + text );
      }

      let from = "Ann";

      showMessage(from, "Hello"); // *Ann*: Hello

      // the value of "from" is the same, the function modified a local copy
      alert( from ); // Ann
```

## Gi√° tr·ªã m·∫∑c ƒë·ªãnh (Default values)

N·∫øu m·ªôt tham s·ªë kh√¥ng ƒë∆∞·ª£c cung c·∫•p, th√¨ gi√° tr·ªã c·ªßa n√≥ s·∫Ω tr·ªü th√†nh `undefined`.

Ch·∫≥ng h·∫°n, h√†m ƒë√£ n√≥i ·ªü tr√™n `showMessage(from, text)` c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi v·ªõi m·ªôt ƒë·ªëi s·ªë duy nh·∫•t:

```js
      showMessage("Ann");
```

ƒê√≥ kh√¥ng ph·∫£i l√† m·ªôt l·ªói. M·ªôt cu·ªôc g·ªçi nh∆∞ v·∫≠y s·∫Ω t·∫°o ra `"Ann: undefined"`. Kh√¥ng c√≥ `text`, v√¨ v·∫≠y n√≥ gi·∫£ ƒë·ªãnh r·∫±ng `text === undefined`.

N·∫øu ch√∫ng ta mu·ªën s·ª≠ d·ª•ng m·ªôt "default" `text` trong tr∆∞·ªùng h·ª£p n√†y, th√¨ ch√∫ng ta c√≥ th·ªÉ ch·ªâ ƒë·ªãnh n√≥ sau `=`:

```js
      function showMessage(from, text = "no text given") {
        alert( from + ": " + text );
      }

      showMessage("Ann"); // Ann: no text given
```

B√¢y gi·ªù n·∫øu tham s·ªë `text` kh√¥ng ƒë∆∞·ª£c th√¥ng qua, n√≥ s·∫Ω nh·∫≠n ƒë∆∞·ª£c gi√° tr·ªã `"no text given"`

·ªû ƒë√¢y `"no text given"` l√† m·ªôt chu·ªói, nh∆∞ng n√≥ c√≥ th·ªÉ l√† m·ªôt bi·ªÉu th·ª©c ph·ª©c t·∫°p h∆°n, n√≥ ch·ªâ ƒë∆∞·ª£c ∆∞·ªõc t√≠nh v√† g√°n n·∫øu tham s·ªë b·ªã thi·∫øu. V√¨ v·∫≠y, ƒëi·ªÅu n√†y c≈©ng c√≥ th·ªÉ:

```js
      function showMessage(from, text = anotherFunction()) {
        // anotherFunction() only executed if no text given
        // its result becomes the value of text
      }
```

<br>

> ---

**üìå ƒê√°nh gi√° c√°c tham s·ªë m·∫∑c ƒë·ªãnh (Evaluation of default parameters)**

Trong JavaScript, m·ªôt tham s·ªë m·∫∑c ƒë·ªãnh ƒë∆∞·ª£c ƒë√°nh gi√° m·ªói khi h√†m ƒë∆∞·ª£c g·ªçi m√† kh√¥ng c√≥ tham s·ªë t∆∞∆°ng ·ª©ng. Trong v√≠ d·ª• tr√™n, `anotherFunctions()` ƒë∆∞·ª£c g·ªçi m·ªçi l√∫c `someMessage()` ƒë∆∞·ª£c g·ªçi m√† kh√¥ng c√≥ tham s·ªë `text`. ƒêi·ªÅu n√†y tr√°i ng∆∞·ª£c v·ªõi m·ªôt s·ªë ng√¥n ng·ªØ kh√°c nh∆∞ Python, trong ƒë√≥ m·ªçi tham s·ªë m·∫∑c ƒë·ªãnh ch·ªâ ƒë∆∞·ª£c ƒë√°nh gi√° m·ªôt l·∫ßn trong qu√° tr√¨nh di·ªÖn gi·∫£i ban ƒë·∫ßu.

> ---

<br>
<br>

> ---

**üìå Th√¥ng s·ªë m·∫∑c ƒë·ªãnh ki·ªÉu c≈© (Default parameters old-style)**

C√°c phi√™n b·∫£n c≈© c·ªßa JavaScript kh√¥ng h·ªó tr·ª£ c√°c tham s·ªë m·∫∑c ƒë·ªãnh. V√¨ v·∫≠y, c√≥ nh·ªØng c√°ch kh√°c ƒë·ªÉ h·ªó tr·ª£ ch√∫ng, m√† b·∫°n c√≥ th·ªÉ t√¨m th·∫•y ch·ªß y·∫øu trong c√°c t·∫≠p l·ªánh c≈©.

Ch·∫≥ng h·∫°n, m·ªôt ki·ªÉm tra r√µ r√†ng v·ªÅ vi·ªác `undefined`:

```js
      function showMessage(from, text) {
        if (text === undefined) {
          text = 'no text given';
        }

        alert( from + ": " + text );
      }
```

...Ho·∫∑c to√°n t·ª≠ `||`:

```js
      function showMessage(from, text) {
        // if text is falsy then text gets the "default" value
        text = text || 'no text given';
        ...
      }
```

> ---

<br>

## Tr·∫£ l·∫°i m·ªôt gi√° tr·ªã (Returning a value)

M·ªôt h√†m c√≥ th·ªÉ tr·∫£ m·ªôt gi√° tr·ªã v·ªÅ cho m√£ g·ªçi (calling code) nh∆∞ l√† k·∫øt qu·∫£.

V√≠ d·ª• ƒë∆°n gi·∫£n nh·∫•t s·∫Ω l√† m·ªôt h√†m t√≠nh t·ªïng hai gi√° tr·ªã:

```js
      function sum(a, b) {
        return a + b;
      }

      let result = sum(1, 2);
      alert( result ); // 3
```

L·ªánh `return` c√≥ th·ªÉ ·ªü b·∫•t k·ª≥ v·ªã tr√≠ n√†o c·ªßa h√†m. Khi th·ª±c thi b·∫Øt g·∫∑p n√≥, h√†m d·ª´ng l·∫°i v√† gi√° tr·ªã ƒë∆∞·ª£c tr·∫£ v·ªÅ m√£ g·ªçi (calling code) (ƒë∆∞·ª£c g√°n cho `result` ·ªü tr√™n).

C√≥ th·ªÉ c√≥ nhi·ªÅu l·∫ßn xu·∫•t hi·ªán c·ªßa `return` trong m·ªôt h√†m duy nh·∫•t. V√≠ d·ª•:

```js
      function checkAge(age) {
        if (age > 18) {
          return true;
        } else {
          return confirm('Do you have permission from your parents?');
        }
      }

      let age = prompt('How old are you?', 18);

      if ( checkAge(age) ) {
        alert( 'Access granted' );
      } else {
        alert( 'Access denied' );
      }
```

C√≥ th·ªÉ s·ª≠ d·ª•ng `return` m√† kh√¥ng c√≥ gi√° tr·ªã. ƒêi·ªÅu ƒë√≥ khi·∫øn function tho√°t ra ngay l·∫≠p t·ª©c.

V√≠ d·ª•:

```js
      function showMovie(age) {
        if ( !checkAge(age) ) {
          return;
        }

        alert( "Showing you the movie" ); // (*)
        // ...
      }
```

Trong ƒëo·∫°n m√£ tr√™n, n·∫øu `checkAge(age)` tr·∫£ v·ªÅ `false`, th√¨ `showMovie` s·∫Ω kh√¥ng ti·∫øp t·ª•c v·ªõi `alert`.

<br>

> ---

**üìå M·ªôt h√†m c√≥ `return` tr·ªëng ho·∫∑c kh√¥ng c√≥ n√≥ tr·∫£ v·ªÅ `undefined`***

N·∫øu m·ªôt h√†m kh√¥ng tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã, th√¨ n√≥ c≈©ng gi·ªëng nh∆∞ khi n√≥ tr·∫£ v·ªÅ `undefined`:

```js
      function doNothing() { /* empty */ }

      alert( doNothing() === undefined ); // true
```

M·ªôt `return` tr·ªëng c≈©ng gi·ªëng nh∆∞ `return undefined`:

```js
      function doNothing() {
        return;
      }

      alert( doNothing() === undefined ); // true
```

> ---

<br>
<br>

> ---

**üìå Kh√¥ng bao gi·ªù th√™m m·ªôt d√≤ng m·ªõi gi·ªØa `return` v√† gi√° tr·ªã**

ƒê·ªëi v·ªõi m·ªôt bi·ªÉu th·ª©c d√†i trong `return`, c√≥ th·ªÉ s·∫Ω r·∫•t h·∫•p d·∫´n khi ƒë·∫∑t n√≥ tr√™n m·ªôt d√≤ng ri√™ng bi·ªát, nh∆∞ th·∫ø n√†y:

```js
      return
       (some + long + expression + or + whatever * f(a) + f(b))
```
ƒêi·ªÅu ƒë√≥ kh√¥ng hi·ªáu qu·∫£, b·ªüi v√¨ JavaScript gi·∫£ ƒë·ªãnh s·∫Ω c√≥ m·ªôt d·∫•u ch·∫•m ph·∫©y sau khi `return`. ƒêi·ªÅu ƒë√≥ s·∫Ω l√†m vi·ªác gi·ªëng nh∆∞:

```js
      return;
       (some + long + expression + or + whatever * f(a) + f(b))
```

V√¨ v·∫≠y, n√≥ th·ª±c s·ª± tr·ªü th√†nh m·ªôt s·ª± empty return. Thay v√†o ƒë√≥, ch√∫ng ta n√™n ƒë·∫∑t gi√° tr·ªã tr√™n c√πng m·ªôt d√≤ng.

> ---

<br>

## ƒê·∫∑t t√™n h√†m

Cac function l√† h√†nh ƒë·ªông. V√¨ v·∫≠y, t√™n c·ªßa ch√∫ng th∆∞·ªùng l√† m·ªôt ƒë·ªông t·ª´. N√≥ ph·∫£i ng·∫Øn g·ªçn, ch√≠nh x√°c nh·∫•t c√≥ th·ªÉ v√† m√¥ t·∫£ function l√†m g√¨, ƒë·ªÉ ai ƒë√≥ ƒë·ªçc m√£ nh·∫≠n ƒë∆∞·ª£c ch·ªâ d·∫´n v·ªÅ function ƒë√≥ l√†m g√¨.

ƒê√≥ l√† m·ªôt th·ª±c t·∫ø ph·ªï bi·∫øn ƒë·ªÉ b·∫Øt ƒë·∫ßu m·ªôt function v·ªõi ti·ªÅn t·ªë b·∫±ng l·ªùi n√≥i m√¥ t·∫£ m∆° h·ªì h√†nh ƒë·ªông. Ph·∫£i c√≥ m·ªôt th·ªèa thu·∫≠n trong nh√≥m v·ªÅ √Ω nghƒ©a c·ªßa c√°c ti·ªÅn t·ªë.

Ch·∫≥ng h·∫°n, c√°c h√†m b·∫Øt ƒë·∫ßu b·∫±ng `"show"` th∆∞·ªùng hi·ªÉn th·ªã m·ªôt c√°i g√¨ ƒë√≥.

Ch·ª©c nƒÉng b·∫Øt ƒë·∫ßu b·∫±ng ...

- `"get‚Ä¶"` -- return a value,
- `"calc‚Ä¶"` -- calculate something,
- `"create‚Ä¶"` -- create something,
- `"check‚Ä¶"` -- check something and return a boolean, etc.

V√≠ d·ª• v·ªÅ c√°c t√™n nh∆∞ v·∫≠y:

```js
      showMessage(..)     // shows a message
      getAge(..)          // returns the age (gets it somehow)
      calcSum(..)         // calculates a sum and returns the result
      createForm(..)      // creates a form (and usually returns it)
      checkPermission(..) // checks a permission, returns true/false
```

V·ªõi c√°c ti·ªÅn t·ªë ƒë∆∞·ª£c ƒë·∫∑t ƒë√∫ng ch·ªó, vi·ªác l∆∞·ªõt qua m·ªôt t√™n h√†m cho bi·∫øt v·ªÅ lo·∫°i c√¥ng vi·ªác v√† lo·∫°i gi√° tr·ªã m√† n√≥ tr·∫£ v·ªÅ.

<br>

> ---

**üìå M·ªôt ch·ª©c nƒÉng - m·ªôt h√†nh ƒë·ªông**

M·ªôt h√†m n√™n l√†m ch√≠nh x√°c nh·ªØng g√¨ ƒë∆∞·ª£c ƒë·ªÅ xu·∫•t b·ªüi t√™n c·ªßa n√≥, kh√¥ng h∆°n.

Hai h√†nh ƒë·ªông ƒë·ªôc l·∫≠p th∆∞·ªùng x·ª©ng ƒë√°ng v·ªõi hai function, ngay c·∫£ khi ch√∫ng th∆∞·ªùng ƒë∆∞·ª£c g·ªçi c√πng nhau (trong tr∆∞·ªùng h·ª£p ƒë√≥ ch√∫ng ta c√≥ th·ªÉ th·ª±c hi·ªán ch·ª©c nƒÉng th·ª© 3 g·ªçi hai function ƒë√≥).

M·ªôt v√†i v√≠ d·ª• v·ªÅ vi·ªác ph√° v·ª° quy t·∫Øc n√†y:

- `getAge` -- s·∫Ω r·∫•t t·ªá n·∫øu n√≥ hi·ªÉn th·ªã m·ªôt `alert` v·ªõi age (n√≥ ch·ªâ n√™n get).
- `createForm` -- s·∫Ω r·∫•t t·ªá n·∫øu n√≥ s·ª≠a ƒë·ªïi t√†i li·ªáu, th√™m m·ªôt bi·ªÉu m·∫´u v√†o n√≥ (n√≥ ch·ªâ n√™n t·∫°o v√† tr·∫£ v·ªÅ).
- `checkPermission` -- s·∫Ω r·∫•t t·ªá n·∫øu hi·ªÉn th·ªã `access granted/denied` message (ch·ªâ n√™n th·ª±c hi·ªán ki·ªÉm tra v√† tr·∫£ v·ªÅ k·∫øt qu·∫£).

Nh·ªØng v√≠ d·ª• n√†y gi·∫£ ƒë·ªãnh √Ω nghƒ©a ph·ªï bi·∫øn c·ªßa ti·ªÅn t·ªë. √ù nghƒ©a c·ªßa ch√∫ng ƒë·ªëi v·ªõi b·∫°n ƒë∆∞·ª£c quy·∫øt ƒë·ªãnh b·ªüi b·∫°n v√† nh√≥m c·ªßa b·∫°n. C√≥ l·∫Ω n√≥ kh√° b√¨nh th∆∞·ªùng khi m√£ c·ªßa b·∫°n ho·∫°t ƒë·ªông kh√°c ƒëi. Nh∆∞ng b·∫°n n√™n c√≥ m·ªôt s·ª± hi·ªÉu bi·∫øt v·ªØng ch·∫Øc v·ªÅ √Ω nghƒ©a c·ªßa ti·ªÅn t·ªë, ch·ª©c nƒÉng ti·ªÅn t·ªë c√≥ th·ªÉ v√† kh√¥ng th·ªÉ l√†m g√¨. T·∫•t c·∫£ c√°c h√†m c√≥ c√πng ti·ªÅn t·ªë ph·∫£i tu√¢n theo c√°c quy t·∫Øc. V√† nh√≥m n√™n chia s·∫ª ki·∫øn th·ª©c.

> ---

<br>
<br>

> ---

**üìå Ultrashort function names***

C√°c h√†m ƒë∆∞·ª£c s·ª≠ d·ª•ng *r·∫•t th∆∞·ªùng xuy√™n* ƒë√¥i khi c√≥ t√™n ultrashort.

V√≠ d·ª•: khung [jQuery](http://jquery.com) ƒë·ªãnh nghƒ©a m·ªôt h√†m v·ªõi `$`. Th∆∞ vi·ªán [LoDash](http://lodash.com/) c√≥ core function c√≥ t√™n l√† `_`.

ƒê√¢y l√† nh·ªØng ngo·∫°i l·ªá. T√™n h√†m th∆∞·ªùng ph·∫£i ng·∫Øn g·ªçn v√† m√¥ t·∫£.

> ---

<br>

## Functions == Comments

C√°c function n√™n ng·∫Øn v√† l√†m ch√≠nh x√°c m·ªôt ƒëi·ªÅu. N·∫øu ƒëi·ªÅu ƒë√≥ l√† l·ªõn, c√≥ l·∫Ω n√≥ ƒë√°ng ƒë·ªÉ chia function th√†nh m·ªôt v√†i function nh·ªè h∆°n. ƒê√¥i khi tu√¢n theo quy t·∫Øc n√†y c√≥ th·ªÉ kh√¥ng d·ªÖ d√†ng, nh∆∞ng ƒë√≥ ch·∫Øc ch·∫Øn l√† m·ªôt ƒëi·ªÅu t·ªët.

M·ªôt function ri√™ng bi·ªát kh√¥ng ch·ªâ d·ªÖ d√†ng h∆°n ƒë·ªÉ ki·ªÉm tra v√† g·ª° l·ªói -- ch√≠nh s·ª± t·ªìn t·∫°i c·ªßa n√≥ l√† m·ªôt comment tuy·ªát v·ªùi!

Ch·∫≥ng h·∫°n, so s√°nh hai h√†m `showPrimes(n)` b√™n d∆∞·ªõi. M·ªói c√°i xu·∫•t ra [s·ªë nguy√™n t·ªë](https://en.wikipedia.org/wiki/Prime_number) cho ƒë·∫øn `n`.

Bi·∫øn th·ªÉ ƒë·∫ßu ti√™n s·ª≠ d·ª•ng nh√£n:

```js
function showPrimes(n) {
  nextPrime: for (let i = 2; i < n; i++) {

    for (let j = 2; j < i; j++) {
      if (i % j == 0) continue nextPrime;
    }

    alert( i ); // a prime
  }
}
```

Bi·∫øn th·ªÉ th·ª© hai s·ª≠ d·ª•ng m·ªôt h√†m b·ªï sung `isPrime(n)` ƒë·ªÉ ki·ªÉm tra t√≠nh nguy√™n th·ªßy:

```js
function showPrimes(n) {

  for (let i = 2; i < n; i++) {
    if (!isPrime(i)) continue;

    alert(i);  // a prime
  }
}

function isPrime(n) {
  for (let i = 2; i < n; i++) {
    if ( n % i == 0) return false;
  }
  return true;
}
```

Bi·∫øn th·ªÉ th·ª© hai d·ªÖ hi·ªÉu h∆°n ph·∫£i kh√¥ng? Thay v√¨ ƒëo·∫°n m√£, ch√∫ng ta th·∫•y m·ªôt t√™n c·ªßa h√†nh ƒë·ªông (`isPrime`). ƒê√¥i khi m·ªçi ng∆∞·ªùi ƒë·ªÅ c·∫≠p ƒë·∫øn m√£ nh∆∞ *t·ª± m√¥ t·∫£ (self-describing)*.

V√¨ v·∫≠y, c√°c function c√≥ th·ªÉ ƒë∆∞·ª£c t·∫°o ngay c·∫£ khi ch√∫ng ta kh√¥ng c√≥ √Ω ƒë·ªãnh s·ª≠ d·ª•ng l·∫°i ch√∫ng. Ch√∫ng c·∫•u tr√∫c m√£ v√† l√†m cho n√≥ d·ªÖ ƒë·ªçc.

## T√≥m l∆∞·ª£c

M·ªôt khai b√°o h√†m tr√¥ng nh∆∞ th·∫ø n√†y:

```js
function name(parameters, delimited, by, comma) {
  /* code */
}
```

- C√°c gi√° tr·ªã ƒë∆∞·ª£c truy·ªÅn cho m·ªôt h√†m nh∆∞ c√°c tham s·ªë ƒë∆∞·ª£c sao ch√©p v√†o c√°c bi·∫øn c·ª•c b·ªô c·ªßa n√≥.
- M·ªôt function c√≥ th·ªÉ truy c·∫≠p c√°c bi·∫øn b√™n ngo√†i. Nh∆∞ng n√≥ ch·ªâ ho·∫°t ƒë·ªông t·ª´ trong ra ngo√†i. M√£ b√™n ngo√†i h√†m kh√¥ng th·∫•y c√°c bi·∫øn c·ª•c b·ªô c·ªßa n√≥.
- M·ªôt h√†m c√≥ th·ªÉ tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã. N·∫øu kh√¥ng, th√¨ k·∫øt qu·∫£ c·ªßa n√≥ l√† `undefined`.

ƒê·ªÉ l√†m cho m√£ s·∫°ch v√† d·ªÖ hi·ªÉu, n√™n s·ª≠ d·ª•ng ch·ªß y·∫øu c√°c bi·∫øn v√† tham s·ªë c·ª•c b·ªô trong h√†m, kh√¥ng n√™n s·ª≠ d·ª•ng c√°c bi·∫øn b√™n ngo√†i (outer variables).

Lu√¥n lu√¥n d·ªÖ d√†ng h∆°n ƒë·ªÉ hi·ªÉu m·ªôt h√†m l·∫•y tham s·ªë, l√†m vi·ªác v·ªõi ch√∫ng v√† tr·∫£ v·ªÅ k·∫øt qu·∫£ so v·ªõi h√†m kh√¥ng c√≥ tham s·ªë, nh∆∞ng s·ª≠a ƒë·ªïi c√°c bi·∫øn b√™n ngo√†i nh∆∞ l√† hi·ªáu ·ª©ng ph·ª•.

Function naming:

- M·ªôt t√™n n√™n m√¥ t·∫£ r√µ r√†ng nh·ªØng g√¨ function l√†m. Khi ch√∫ng ta th·∫•y m·ªôt l·ªánh g·ªçi h√†m trong m√£, m·ªôt c√°i t√™n hay ngay l·∫≠p t·ª©c cho ch√∫ng ta hi·ªÉu n√≥ l√†m g√¨ v√† tr·∫£ v·ªÅ g√¨.
- H√†m l√† m·ªôt h√†nh ƒë·ªông, v√¨ v·∫≠y t√™n h√†m th∆∞·ªùng b·∫±ng l·ªùi n√≥i.
- T·ªìn t·∫°i nhi·ªÅu ti·ªÅn t·ªë ch·ª©c nƒÉng n·ªïi ti·∫øng nh∆∞ `create‚Ä¶`, `show‚Ä¶`, `get‚Ä¶`, `check‚Ä¶`, v.v. S·ª≠ d·ª•ng ch√∫ng ƒë·ªÉ g·ª£i √Ω nh·ªØng g√¨ m·ªôt function l√†m.

C√°c function l√† c√°c kh·ªëi x√¢y d·ª±ng ch√≠nh (main building blocks) c·ªßa c√°c k·ªãch b·∫£n. B√¢y gi·ªù ch√∫ng ta ƒë√£ bao qu√°t xong nh·ªØng ƒëi·ªÅu c∆° b·∫£n, v√¨ v·∫≠y ch√∫ng ta th·ª±c s·ª± c√≥ th·ªÉ b·∫Øt ƒë·∫ßu t·∫°o v√† s·ª≠ d·ª•ng ch√∫ng. Nh∆∞ng ƒë√≥ ch·ªâ l√† s·ª± kh·ªüi ƒë·∫ßu c·ªßa l·ªô tr√¨nh. Ch√∫ng ta s·∫Ω tr·ªü l·∫°i v·ªõi ch√∫ng nhi·ªÅu l·∫ßn, ƒëi s√¢u h∆°n v√†o c√°c t√≠nh nƒÉng n√¢ng cao c·ªßa ch√∫ng.
